## pfSense Configuration – Routing, NAT, SPAN/Mirror and Its Role

**pfSense** acts as the central **router** and **firewall** of the environment.  
Thanks to its flexible configuration capabilities, it enables **traffic management between subnets**, **packet filtering**, and **event logging**.

In the presented setup, the **WAN interface (`em0`)** is configured as a **bridge to the home router** and receives an IP address from its **DHCP server**.  
This means that **pfSense does not perform NAT** — its only role is to forward traffic to and from the Internet **without address translation**.

**Key pfSense functionalities in this environment:**
- **Routing** between all network segments
- **Forwarding its own logs** to **Elasticsearch**
- **Bridge** mode — forwarding traffic to the Internet
- **Firewall** — custom security rules for each network segment
- **SPAN/mirror** — copying traffic from `em3` (victim network) to `em4` (for analysis)

This architecture provides **full control and precise profiling of network traffic**, while enabling **passive incident detection**.
